<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources | Broken Shadow Maps</title><meta name=keywords content><meta name=description content="I wrote a chapter for GPU Zen 2 focused on emulating dappled soft shadows.
Inspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible."><meta name=author content><link rel=canonical href=https://mmerchante.github.io/blog-public/publications/gpuzen2/><link crossorigin=anonymous href=/blog-public/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/blog-public/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources"><meta property="og:description" content="I wrote a chapter for GPU Zen 2 focused on emulating dappled soft shadows.
Inspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible."><meta property="og:type" content="article"><meta property="og:url" content="https://mmerchante.github.io/blog-public/publications/gpuzen2/"><meta property="article:section" content="publications"><meta property="article:published_time" content="2019-04-21T00:00:00+00:00"><meta property="article:modified_time" content="2019-04-21T00:00:00+00:00"><meta property="og:site_name" content="Broken Shadow Maps"><meta name=twitter:card content="summary"><meta name=twitter:title content="[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources"><meta name=twitter:description content="I wrote a chapter for GPU Zen 2 focused on emulating dappled soft shadows.
Inspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Publications","item":"https://mmerchante.github.io/blog-public/publications/"},{"@type":"ListItem","position":2,"name":"[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources","item":"https://mmerchante.github.io/blog-public/publications/gpuzen2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources","name":"[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources","description":"I wrote a chapter for GPU Zen 2 focused on emulating dappled soft shadows.\nInspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible.","keywords":[],"articleBody":" I wrote a chapter for GPU Zen 2 focused on emulating dappled soft shadows.\nInspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible.\nIt can be used to render non-photoreal effects as well:\nBecause it is designed for environments with high frequency shadow maps, it is ideal for scenes with many trees or any geometry that can generate small pinholes. The proposed technique is subtractive and can be implemented on top of any other conventional shadow mapping algorithm, while considering mitigations to potential spatio temporal artifacts.\nTo my knowledge, it is the first technique that emulates and animates shadows under a solar eclipse, called crescent shadows, in realtime.\nYou can find the reference source code at GitHub!\n","wordCount":"182","inLanguage":"en","datePublished":"2019-04-21T00:00:00Z","dateModified":"2019-04-21T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://mmerchante.github.io/blog-public/publications/gpuzen2/"},"publisher":{"@type":"Organization","name":"Broken Shadow Maps","logo":{"@type":"ImageObject","url":"https://mmerchante.github.io/blog-public/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://mmerchante.github.io/blog-public/ accesskey=h title="Broken Shadow Maps (Alt + H)"><img src=https://mmerchante.github.io/apple-touch-icon.png alt aria-label=logo height=35>Broken Shadow Maps</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://mmerchante.github.io/blog-public/ title=Home><span>Home</span></a></li><li><a href=https://mmerchante.github.io/blog-public/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://mmerchante.github.io/blog-public/projects/tech title=Technical><span>Technical</span></a></li><li><a href=https://mmerchante.github.io/blog-public/projects/art title=Art><span>Art</span></a></li><li><a href=https://mmerchante.github.io/blog-public/publications/ title=Publications/Talks><span>Publications/Talks</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[GPU Zen 2] Soft Shadows Approximation for Dappled Light Sources</h1><div class=post-meta><span title='2019-04-21 00:00:00 +0000 UTC'>April 21, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;182 words</div></header><div class=post-content><p><img loading=lazy src=/img/gpuzen2/bokeh_shadows_header.jpg alt></p><p>I wrote a chapter for <a href=https://www.amazon.com/GPU-Zen-Advanced-Rendering-Techniques/dp/179758314X>GPU Zen 2</a> focused on emulating dappled soft shadows.</p><p>Inspired by depth of field splatting techniques, this chapter focuses on an approximation that identifies points of high variance in a shadow map and reuses such points to project a slice of the light source shape. This reduces the cost of searching, filtering and sampling the depth map, common in other shadow mapping techniques. It also gives artistic control of the light shape to the user, making certain effects like rendering crescent shadows possible.</p><p>It can be used to render non-photoreal effects as well:</p><p><img loading=lazy src=/img/gpuzen2/results_3.jpg alt></p><p>Because it is designed for environments with high frequency shadow maps, it is ideal for scenes with many trees or any geometry that can generate small pinholes. The proposed technique is subtractive and can be implemented on top of any other conventional shadow mapping algorithm, while considering mitigations to potential spatio temporal artifacts.</p><p><img loading=lazy src=/img/gpuzen2/results_2.jpg alt></p><p>To my knowledge, it is the first technique that emulates and animates shadows under a solar eclipse, called crescent shadows, in realtime.</p><p>You can find the reference source code at <a href=https://github.com/wolfgangfengel/GPUZen2/tree/master/03_Shadows/01_Soft%20Shadow%20Approximation%20for%20Dappled%20Light%20Sources/Demo>GitHub</a>!</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://mmerchante.github.io/blog-public/>Broken Shadow Maps</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>